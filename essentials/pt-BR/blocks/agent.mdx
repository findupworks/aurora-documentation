---
title: Agente
---

import { Callout } from 'fumadocs-ui/components/callout'
import { Step, Steps } from 'fumadocs-ui/components/steps'
import { Tab, Tabs } from 'fumadocs-ui/components/tabs'
import { Image } from '@/components/ui/image'
import { Video } from '@/components/ui/video'

O bloco Agente serve como interface entre seu fluxo de trabalho e os Modelos de Linguagem Grandes (LLMs). Ele executa solicitações de inferência contra vários provedores de IA, processa entradas de linguagem natural de acordo com as instruções definidas e gera saídas estruturadas ou não estruturadas para consumo posterior.

<div className="flex justify-center">
  <Image
    src="/static/blocks/agent.png"
    alt="Configuração do bloco Agente"
    width={500}
    height={400}
    className="my-6"
  />
</div>

## Visão geral

O bloco Agente permite:

<Steps>
  <Step>
    <strong>Processar linguagem natural</strong>: Analisar a entrada do usuário e gerar respostas contextuais
  </Step>
  <Step>
    <strong>Executar tarefas impulsionadas por IA</strong>: Realizar análise de conteúdo, geração e tomada de decisões
  </Step>
  <Step>
    <strong>Chamar ferramentas externas</strong>: Acessar APIs, bancos de dados e serviços durante o processamento
  </Step>
  <Step>
    <strong>Gerar saída estruturada</strong>: Retornar dados JSON que correspondam aos requisitos do seu esquema
  </Step>
</Steps> 

## Opções de configuração

### Prompt do sistema

O prompt do sistema estabelece os parâmetros operacionais e as restrições de comportamento do agente. Esta configuração define o papel do agente, a metodologia de resposta e os limites de processamento para todas as solicitações recebidas.

```markdown
You are a helpful assistant that specializes in financial analysis.
Always provide clear explanations and cite sources when possible.
When responding to questions about investments, include risk disclaimers.
```

### Prompt do usuário

O prompt do usuário representa os dados de entrada principais para o processamento de inferência. Este parâmetro aceita texto em linguagem natural ou dados estruturados que o agente analisará e aos quais responderá. As fontes de entrada incluem:

- **Configuração estática**: Entrada de texto direta especificada na configuração do bloco
- **Entrada dinâmica**: Dados passados de blocos anteriores através de interfaces de conexão
- **Geração em tempo de execução**: Conteúdo gerado programaticamente durante a execução do fluxo de trabalho

### Seleção de modelo

O bloco Agente suporta múltiplos provedores de LLM através de uma interface de inferência unificada. Os modelos disponíveis incluem:

**Modelos OpenAI**: GPT-5, GPT-4o, o1, o3, o4-mini, gpt-4.1 (inferência baseada em API)
**Modelos Anthropic**: Claude 3.7 Sonnet (inferência baseada em API)
**Modelos Google**: Gemini 2.5 Pro, Gemini 2.0 Flash (inferência baseada em API)
**Provedores alternativos**: Groq, Cerebras, xAI, DeepSeek (inferência baseada em API)
**Implantação local**: Modelos compatíveis com Ollama (inferência auto-hospedada)

<div className="mx-auto w-3/5 overflow-hidden rounded-lg">
  <Video src="models.mp4" width={500} height={350} />
</div>

### Temperatura

Controla a criatividade e aleatoriedade das respostas:

<Tabs items={['Baixa (0-0.3)', 'Média (0.3-0.7)', 'Alta (0.7-2.0)']}>
  <Tab>
    Respostas mais determinísticas e focadas. Ideal para tarefas factuais, atendimento ao cliente e
    situações onde a precisão é crítica.
  </Tab>
  <Tab>
    Equilíbrio entre criatividade e foco. Adequado para aplicações de uso geral que requerem
    tanto precisão quanto certa criatividade.
  </Tab>
  <Tab>
    Respostas mais criativas e variadas. Ideal para escrita criativa, brainstorming e geração
    de ideias diversas.
  </Tab>
</Tabs>

<div className="mt-4 text-sm text-gray-600 dark:text-gray-400">
  O intervalo de temperatura (0-1 ou 0-2) varia dependendo do modelo selecionado.
</div>

### Chave API

Sua chave API para o provedor de LLM selecionado. É armazenada de forma segura e utilizada para autenticação.

### Ferramentas

As ferramentas ampliam as capacidades do agente através de integrações de API externas e conexões de serviços. O sistema de ferramentas permite a chamada de funções, permitindo ao agente executar operações além da geração de texto.

**Processo de integração de ferramentas**:
1. Acesse a seção de configuração de Ferramentas dentro do bloco do Agente
2. Selecione entre mais de 80 integrações predefinidas ou defina funções personalizadas
3. Configure os parâmetros de autenticação e as restrições operacionais

<div className="mx-auto w-3/5 overflow-hidden rounded-lg">
  <Video src="tools.mp4" width={500} height={350} />
</div>

**Categorias de ferramentas disponíveis**:
- **Comunicação**: Gmail, Slack, Telegram, WhatsApp, Microsoft Teams
- **Fontes de dados**: Notion, Google Sheets, Airtable, Supabase, Pinecone
- **Serviços web**: Firecrawl, Google Search, Exa AI, automação de navegador
- **Desenvolvimento**: GitHub, Jira, gerenciamento de repositórios e problemas no Linear
- **Serviços de IA**: OpenAI, Perplexity, Hugging Face, ElevenLabs

**Controle de execução de ferramentas**:
- **Auto**: O modelo determina a invocação de ferramentas de acordo com o contexto e a necessidade
- **Obrigatório**: A ferramenta deve ser chamada durante cada solicitação de inferência
- **Nenhum**: Definição de ferramenta disponível mas excluída do contexto do modelo

<div className="mx-auto w-3/5 overflow-hidden rounded-lg">
  <Video src="granular-tool-control.mp4" width={500} height={350} />
</div>

### Formato de resposta

O parâmetro de formato de resposta impõe a geração de saídas estruturadas através da validação de esquemas JSON. Isso garante respostas consistentes e legíveis por máquina que se ajustam a estruturas de dados predefinidas:

```json
{
  "name": "user_analysis",
  "schema": {
    "type": "object",
    "properties": {
      "sentiment": {
        "type": "string",
        "enum": ["positive", "negative", "neutral"]
      },
      "confidence": {
        "type": "number",
        "minimum": 0,
        "maximum": 1
      }
    },
    "required": ["sentiment", "confidence"]
  }
}
```

Esta configuração restringe a saída do modelo para que cumpra o esquema especificado, evitando respostas de texto livre e garantindo a geração de dados estruturados.

### Acesso aos resultados

Depois que um agente completa sua tarefa, você pode acessar suas saídas:

- **`<agent.content>`**: O texto de resposta ou dados estruturados do agente
- **`<agent.tokens>`**: Estatísticas de uso de tokens (prompt, completado, total)
- **`<agent.tool_calls>`**: Detalhes de qualquer ferramenta que o agente utilizou durante a execução
- **`<agent.cost>`**: Custo estimado da chamada à API (se disponível)

## Funcionalidades avançadas

### Memória + Agente: Histórico de conversação

Utilize um bloco `Memory` com um `id` consistente (por exemplo, `chat`) para persistir mensagens entre execuções e incluir esse histórico no prompt do agente.

- Adicione a mensagem do usuário antes do agente
- Leia o histórico de conversação para contexto
- Adicione a resposta do agente depois que ele for executado

Consulte a referência do bloco [`Memory`](/tools/memory) para mais detalhes.

## Entradas e saídas

<Tabs items={['Configuração', 'Variáveis', 'Resultados']}>
  <Tab>
    <ul className="list-disc space-y-2 pl-6">
      <li>
        <strong>Prompt do sistema</strong>: Instruções que definem o comportamento e papel do agente
      </li>
      <li>
        <strong>Prompt do usuário</strong>: Texto ou dados de entrada para processar
      </li>
      <li>
        <strong>Modelo</strong>: Seleção do modelo de IA (OpenAI, Anthropic, Google, etc.)
      </li>
      <li>
        <strong>Temperatura</strong>: Controle de aleatoriedade de resposta (0-2)
      </li>
      <li>
        <strong>Ferramentas</strong>: Array de ferramentas disponíveis para chamadas de funções
      </li>
      <li>
        <strong>Formato de resposta</strong>: Esquema JSON para saída estruturada
      </li>
    </ul>
  </Tab>
  <Tab>
    <ul className="list-disc space-y-2 pl-6">
      <li>
        <strong>agent.content</strong>: Texto de resposta do agente ou dados estruturados
      </li>
      <li>
        <strong>agent.tokens</strong>: Objeto com estatísticas de uso de tokens
      </li>
      <li>
        <strong>agent.tool_calls</strong>: Array com detalhes de execução de ferramentas
      </li>
      <li>
        <strong>agent.cost</strong>: Custo estimado da chamada à API (se disponível)
      </li>
    </ul>
  </Tab>
  <Tab>
    <ul className="list-disc space-y-2 pl-6">
      <li>
        <strong>Conteúdo</strong>: Saída principal de resposta do agente
      </li>
      <li>
        <strong>Metadados</strong>: Estatísticas de uso e detalhes de execução
      </li>
      <li>
        <strong>Acesso</strong>: Disponível em blocos após o agente
      </li>
    </ul>
  </Tab>
</Tabs>

## Exemplos de casos de uso

### Automação de atendimento ao cliente

<div className="mb-4 rounded-md border p-4">
  <h4 className="font-medium">Cenário: Gerenciar consultas de clientes com acesso a banco de dados</h4>
  <ol className="list-decimal pl-5 text-sm">
    <li>O usuário envia um ticket de suporte através do bloco API</li>
    <li>O agente verifica pedidos/assinaturas no Postgres e busca na base de conhecimentos</li>
    <li>Se for necessário escalonamento, o agente cria uma ocorrência no Linear com o contexto relevante</li>
    <li>O agente redige uma resposta clara por e-mail</li>
    <li>O Gmail envia a resposta ao cliente</li>
    <li>A conversa é salva no Memory para manter o histórico para mensagens futuras</li>
  </ol>
</div>

### Análise de conteúdo com múltiplos modelos

<div className="mb-4 rounded-md border p-4">
  <h4 className="font-medium">Cenário: Analisar conteúdo com diferentes modelos de IA</h4>
  <ol className="list-decimal pl-5 text-sm">
    <li>O bloco de função processa o documento carregado</li>
    <li>O agente com GPT-4o realiza análise técnica</li>
    <li>O agente com Claude analisa o sentimento e tom</li>
    <li>O bloco de função combina os resultados para o relatório final</li>
  </ol>
</div>

### Assistente de pesquisa potenciado por ferramentas

<div className="mb-4 rounded-md border p-4">
  <h4 className="font-medium">Cenário: Assistente de pesquisa com busca web e acesso a documentos</h4>
  <ol className="list-decimal pl-5 text-sm">
    <li>Consulta do usuário recebida através de entrada</li>
    <li>O agente busca na web utilizando a ferramenta de Google Search</li>
    <li>O agente acessa o banco de dados do Notion para documentos internos</li>
    <li>O agente compila um relatório de pesquisa completo</li>
  </ol>
</div>

## Melhores práticas

- **Seja específico nos prompts do sistema**: Defina claramente o papel do agente, o tom e as limitações. Quanto mais específicas forem suas instruções, melhor o agente poderá cumprir seu propósito pretendido.
- **Escolha a configuração de temperatura adequada**: Use configurações de temperatura mais baixas (0-0.3) quando a precisão é importante, ou aumente a temperatura (0.7-2.0) para respostas mais criativas ou variadas
- **Aproveite as ferramentas de forma eficaz**: Integre ferramentas que complementem o propósito do agente e melhorem suas capacidades. Seja seletivo sobre quais ferramentas você fornece para evitar sobrecarregar o agente. Para tarefas com pouco sobreposição, use outro bloco de Agente para obter os melhores resultados.
